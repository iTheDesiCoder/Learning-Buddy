# File Handling in Python

---

## ðŸ”¹ Introduction
- File handling is an essential part of programming.  
- In COBOL: `OPEN INPUT`, `READ`, `WRITE`, `CLOSE` are common.  
- In Python: file handling is simpler and more powerful, with built-in support for text, binary, CSV, and integration with **pandas** for data analysis.  

---

## ðŸ”¹ Opening and Closing Files
Python uses the built-in `open()` function.

```python
# open(filename, mode)
f = open("example.txt", "r")  # open for reading
print(f.read())
f.close()
```

### Common Modes:
- `"r"` â†’ Read (default)  
- `"w"` â†’ Write (overwrites existing file)  
- `"a"` â†’ Append (adds to end of file)  
- `"rb"` / `"wb"` â†’ Binary read/write  

---

## ðŸ”¹ Using Context Manager (`with open`)
Preferred way â†’ closes file automatically.

```python
with open("example.txt", "r") as f:
    content = f.read()
    print(content)
```

---

## ðŸ”¹ Reading Files

### Read Entire File
```python
with open("example.txt", "r") as f:
    data = f.read()
    print(data)
```

### Read One Line
```python
with open("example.txt", "r") as f:
    line = f.readline()
    print(line)
```

### Read All Lines into List
```python
with open("example.txt", "r") as f:
    lines = f.readlines()
    print(lines)
```

### Iterate Over File
```python
with open("example.txt", "r") as f:
    for line in f:
        print(line.strip())
```

---

## ðŸ”¹ Writing Files

### Overwrite File
```python
with open("example.txt", "w") as f:
    f.write("Hello World\n")
    f.write("Python makes file handling easy\n")
```

### Append to File
```python
with open("example.txt", "a") as f:
    f.write("This line is appended\n")
```

---

## ðŸ”¹ File Operations (`os` and `pathlib`)

```python
import os
from pathlib import Path

# Check if file exists
print(os.path.exists("example.txt"))

# Rename a file
os.rename("example.txt", "renamed.txt")

# Delete a file
os.remove("renamed.txt")

# Using pathlib
file = Path("demo.txt")
file.write_text("Hello from pathlib")
print(file.read_text())
```

---

## ðŸ”¹ CSV File Handling

### Writing CSV
```python
import csv

data = [
    ["Name", "Age"],
    ["Alice", 25],
    ["Bob", 30]
]

with open("people.csv", "w", newline="") as f:
    writer = csv.writer(f)
    writer.writerows(data)
```

### Reading CSV
```python
import csv

with open("people.csv", "r") as f:
    reader = csv.reader(f)
    for row in reader:
        print(row)
```

---

## ðŸ”¹ Using Pandas for File Handling

### Read CSV into DataFrame
```python
import pandas as pd

df = pd.read_csv("people.csv")
print(df)
```

### Write DataFrame to CSV
```python
df.to_csv("output.csv", index=False)
```

---

## ðŸ”¹ Real-World Finance Example

Imagine you have a COBOL batch job that reads a customer file.  
In Python with pandas:

```python
import pandas as pd

# Load customer data
df = pd.read_csv("customers.csv")

# Filter high-value customers
vip = df[df["balance"] > 10000]
print(vip)
```

---

## ðŸ’¡ Exercises

1. Create a file `notes.txt` and write three lines into it.  
2. Read the file and print each line in uppercase.  
3. Write a program to append a new employee record into `employees.csv`.  
4. Load `employees.csv` into pandas and display only employees with salary > 5000.  

---
